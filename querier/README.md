# Querier
### Zitong Wu, Feb. 2021
<br > 

### Querier

The indexer reads the index file produced by the TSE Indexer, and page files produced by the TSE Querier, and answers search queries submitted via stdin. 


### Functionality
This querier prints the document set in decreasing order by score,
meeting the full specs: supporting ‘and’ precedence over ‘or’ with precedence.


### Usage
**Make sure to run `make` in the common and libcs50 folder before compiling the querier. Or simply run `make all` in the lab6 home directory.**

In the indexer directory,   

* `make` or `make all`: to compile both querier and fuzztest

* `make querier`: to compile only querier

* `make fuzzquery`: to compile only fuzzquery
 
* `make test`: test `querier` with `testing.sh`

* `make valgrind`: valgrind test querier on three kinds of inputs:

	*  incorrect inputs containing special characters and having operators at incorrect positions

	*  correct inputs that have different combinations of "and", "or" operators
	*  inputs generated by fuzzquery(random combination of words connected by operators. These inputs are always valid but may not have documents match)

```
valgrind: querier
	valgrind ./fuzzquery indexFile 10 0 | ./querier data/depth2 indexFile > /dev/null
	valgrind ./querier data/depth2 indexFile < incorrectQueries > /dev/null
	valgrind ./querier data/depth2 indexFile < correctQueries > /dev/null

```

`make clean`: clean up the querier directory

### Test Data
Test data is located in the query folder: `data/`, `indexFile`

### Test Result
see `testing.out`

